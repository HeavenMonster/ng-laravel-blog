{"version":3,"sources":["app.js","directives.js","routes.js","articleFactory.js","commentFactory.js","userFactory.js","authController.js","logoutController.js","notificationController.js","articles/articlesCreateController.js","articles/articlesEditController.js","articles/articlesFilterController.js","articles/articlesIndexController.js","articles/articlesShowController.js","articles/sideBarController.js","comments/commentsCEController.js","users/usersController.js","users/usersEditController.js","users/usersRegisterController.js","users/usersShowController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var blog = angular.module('blog', [\r\n\t'ui.router',\r\n\t'ngAnimate',\r\n\t'angular-loading-bar',\r\n\t'yaru22.angular-timeago',\r\n\t'blockUI',\r\n\t'ui.bootstrap',\r\n\t'ui-notification',\r\n\t'ngStorage',\r\n\t'treasure-overlay-spinner',\r\n\t'ngCookies'\r\n])\r\n.run(function($rootScope, $cookies, $http, $interval, $state, Notification, $window, $timeout)\r\n{\r\n \t$rootScope.endPoint = 'http://myblog.lv/api';\r\n \t$rootScope.spinner = {\r\n \t\tactive: true\r\n \t};\r\n\r\n \t$rootScope.notification = {\r\n \t\ttype: '',\r\n \t\tmsg: '',\r\n \t\tpopup: false\r\n \t};\r\n\r\n \t$rootScope.loggedIn = true;\r\n\r\n \tif ($cookies.get('token') !== undefined)\r\n \t{\r\n \t\t$rootScope.userObtained = false;\r\n \t\t\r\n \t\t$http.get($rootScope.endPoint + '/auth/user?token=' + $cookies.get('token'))\r\n \t\t\t.success(function(response)\r\n \t\t\t{\r\n \t\t\t\t$rootScope.token = $cookies.get('token');\r\n \t\t\t\t$rootScope.user = response.user;\r\n \t\t\t\t$rootScope.userObtained = true;\r\n \t\t\t})\r\n \t\t\t.error(function()\r\n \t\t\t{\r\n \t\t\t\t$rootScope.loggedIn = false;\r\n \t\t\t\tdelete $rootScope.user;\r\n \t\t\t\t\r\n \t\t\t\t$cookies.remove('user');\r\n \t\t\t\t$cookies.remove('token');\r\n\r\n \t\t\t\t$state.go('login');\r\n\r\n \t\t\t\t$timeout(function()\r\n \t\t\t\t{\r\n \t\t\t\t\t$window.location.reload();\r\n \t\t\t\t}, 200);\r\n \t\t\t});\r\n\r\n \t\t$interval(function()\r\n \t\t{\r\n \t\t\t$http.get($rootScope.endPoint + '/auth/refresh-token?token=' + $rootScope.token)\r\n \t\t\t\t.success(function(response)\r\n \t\t\t\t{\r\n \t\t\t\t\t$rootScope.token = response.token;\r\n \t\t\t\t\t$cookies.put('token', response.token);\r\n \t\t\t\t})\r\n \t\t\t\t.error(function()\r\n \t\t\t\t{\r\n \t\t\t\t\tdelete $rootScope.user;\r\n \t\t\t\t\t$rootScope.loggedIn = false;\r\n \t\t\t\t\t\r\n \t\t\t\t\t$cookies.remove('token');\r\n\r\n \t\t\t\t\t$state.go('login');\r\n\r\n\r\n \t\t\t\t\t$timeout(function()\r\n\t \t\t\t\t{\r\n\t \t\t\t\t\t$window.location.reload();\r\n\t \t\t\t\t}, 200);\r\n \t\t\t\t});\r\n \t\t}, 60000);\r\n \t}\r\n \telse\r\n \t{\r\n \t\t$rootScope.loggedIn = false;\r\n \t}\r\n});","angular.module('blog') \r\n .directive('postsPagination', function(){  \r\n    return{\r\n       restrict: 'E',\r\n       template: '<ul class=\"pagination\">'+\r\n         '<li ng-show=\"currentPage != 1\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(1)\">&laquo;</a></li>'+\r\n         '<li ng-show=\"currentPage != 1\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(currentPage-1)\">&lsaquo; Prev</a></li>'+\r\n         '<li ng-repeat=\"i in range\" ng-class=\"{active : currentPage == i}\">'+\r\n             '<a href=\"javascript:void(0)\" ng-click=\"getArticles(i)\">{{i}}</a>'+\r\n          '</li>'+\r\n          '<li ng-show=\"currentPage != totalPages\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(currentPage+1)\">Next &rsaquo;</a></li>'+\r\n          '<li ng-show=\"currentPage != totalPages\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(totalPages)\">&raquo;</a></li>'+\r\n        '</ul>'\r\n     };\r\n });\r\n\r\n angular.module('blog')\r\n  .directive('ckEditor', function() {\r\n    return {\r\n      require: '?ngModel',\r\n      link: function(scope, elm, attr, ngModel) {\r\n        var ck = CKEDITOR.replace(elm[0]);\r\n\r\n        if (!ngModel) return;\r\n\r\n        ck.on('pasteState', function() {\r\n          scope.$apply(function() {\r\n            ngModel.$setViewValue(ck.getData());\r\n          });\r\n        });\r\n\r\n        ngModel.$render = function(value) {\r\n          ck.setData(ngModel.$viewValue);\r\n        };\r\n      }\r\n    };\r\n});","angular.module('blog')\t\r\n\t.config(function($stateProvider, $urlRouterProvider, $sceProvider, NotificationProvider)\r\n\t{\r\n\t\t$urlRouterProvider.otherwise('/');\r\n\r\n\t\t$stateProvider\r\n\t\t\t.state('home', \r\n\t\t\t{\r\n\t\t\t\turl: '/',\r\n\t\t\t\ttemplateUrl: '/views/articles',\r\n\t\t\t\tcontroller: 'articlesIndexController'\r\n\t\t\t})\r\n\t\t\t.state('login',\r\n\t\t\t{\r\n\t\t\t\turl: '/auth/login',\r\n\t\t\t\ttemplateUrl: 'views/auth/login',\r\n\t\t\t\tcontroller: 'authController'\r\n\t\t\t})\r\n\t\t\t.state('register',\r\n\t\t\t{\r\n\t\t\t\turl: '/auth/register',\r\n\t\t\t\ttemplateUrl: 'views/auth/register',\r\n\t\t\t\tcontroller: 'usersRegisterController'\r\n\t\t\t})\r\n\t\t\t.state('logout',\r\n\t\t\t{\r\n\t\t\t\turl: '/auth/logout',\r\n\t\t\t\tcontroller: 'logoutController'\r\n\t\t\t})\r\n\t\t\t.state('articles',\r\n\t\t\t{\r\n\t\t\t\turl: '/articles/',\r\n\t\t\t\ttemplateUrl: '/views/articles',\r\n\t\t\t\tcontroller: 'articlesIndexController'\r\n\t\t\t})\r\n\t\t\t.state('articles_create',\r\n\t\t\t{\r\n\t\t\t\turl: '/articles/create',\r\n\t\t\t\ttemplateUrl: '/views/articles/create',\r\n\t\t\t\tcontroller: 'articlesCreateController'\r\n\t\t\t})\r\n\t\t\t.state('articles_edit',\r\n\t\t\t{\r\n\t\t\t\turl: '/articles/:articleSlug/edit',\r\n\t\t\t\ttemplateUrl: '/views/articles/edit',\r\n\t\t\t\tcontroller: 'articlesEditController'\r\n\t\t\t})\r\n\t\t\t.state('comments_edit',\r\n\t\t\t{\r\n\t\t\t\turl: '/articles/:articleSlug/comments/:commentID/edit',\r\n\t\t\t\ttemplateUrl: '/views/articles/show',\r\n\t\t\t\tcontroller: 'articlesShowController'\r\n\t\t\t})\r\n\t\t\t.state('articles_show',\r\n\t\t\t{\r\n\t\t\t\turl: '/articles/:articleSlug',\r\n\t\t\t\ttemplateUrl: '/views/articles/show',\r\n\t\t\t\tcontroller: 'articlesShowController'\r\n\t\t\t})\r\n\t\t\t.state('articles_filter',\r\n\t\t\t{\r\n\t\t\t\turl: '/articles/:filterBy/:filterID',\r\n\t\t\t\ttemplateUrl: '/views/articles/filter',\r\n\t\t\t\tcontroller: 'articlesFilterController'\r\n\t\t\t})\r\n\t\t\t.state('users_show',\r\n\t\t\t{\r\n\t\t\t\turl: '/users/:userID',\r\n\t\t\t\ttemplateUrl: '/views/users/show',\r\n\t\t\t\tcontroller: 'usersShowController'\r\n\t\t\t})\r\n\t\t\t.state('users_show_stuff',\r\n\t\t\t{\r\n\t\t\t\turl: '/users/:userID/:showParam',\r\n\t\t\t\ttemplateUrl: '/views/users/show',\r\n\t\t\t\tcontroller: 'usersShowController'\r\n\t\t\t})\r\n\t\t\t.state('users_edit',\r\n\t\t\t{\r\n\t\t\t\turl: '/users/:userID/edit/:editParam',\r\n\t\t\t\ttemplateUrl: '/views/users/edit',\r\n\t\t\t\tcontroller: 'usersEditController'\r\n\t\t\t});\r\n\r\n\t\tNotificationProvider.setOptions(\r\n\t\t{\r\n            delay: 5000,\r\n            startTop: 20,\r\n            startRight: 10,\r\n            verticalSpacing: 20,\r\n            horizontalSpacing: 20,\r\n            positionX: 'right',\r\n            positionY: 'bottom'\r\n        });\r\n        \r\n\t\t$sceProvider.enabled(false);\r\n\t})","var articleFactory = function($http, $rootScope)\r\n{\r\n\tvar factory = {};\r\n\r\n\tfactory.getArticles = function(pageNumber)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles?page=' + pageNumber);\r\n\t};\r\n\r\n\tfactory.getCategoryList = function()\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/categories');\r\n\t};\r\n\r\n\tfactory.getArticle = function(slug)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles/' + slug);\r\n\t};\r\n\r\n\tfactory.beforeCreateArticle = function(token)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles/create?token=' + token);\r\n\t};\r\n\r\n\tfactory.createArticle = function(data, token)\r\n\t{\r\n\t\treturn $http.post($rootScope.endPoint + '/articles?token=' + token, data);\r\n\t};\r\n\r\n\tfactory.beforeEditArticle = function(slug, token)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles/' + slug + '/edit?token=' + token);\r\n\t};\r\n\r\n\tfactory.editArticle = function(slug, dataWithToken)\r\n\t{\r\n\t\treturn $http.put($rootScope.endPoint + '/articles/' + slug + '?token=' + dataWithToken.token, dataWithToken);\r\n\t};\r\n\r\n\tfactory.deleteArticle = function(slug, token)\r\n\t{\r\n\t\treturn $http.delete($rootScope.endPoint + '/articles/' + slug + '?token=' + token);\r\n\t};\r\n\r\n\tfactory.filterByCategory = function(id, pageNumber)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles/categories/' + id + '?page=' + pageNumber);\r\n\t};\r\n\r\n\tfactory.getCategory = function(id)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/categories/' + id);\r\n\t};\r\n\r\n\tfactory.filterByTag = function(id)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles/tags/' + id);\r\n\t};\r\n\r\n\tfactory.getTag = function(id)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/tags/' + id);\r\n\t};\r\n\r\n\treturn factory;\r\n};\r\n\r\narticleFactory.$injector = ['$http', '$rootScope'];\r\n\r\nangular.module('blog')\r\n\t.factory('articleFactory', articleFactory);","var commentFactory = function($http, $rootScope)\r\n{\r\n\tvar factory = {};\r\n\r\n\tfactory.createComment = function(slug, data, token)\r\n\t{\r\n\t\treturn $http.post($rootScope.endPoint + '/' + slug + '/comments?token=' + token, data);\r\n\t};\r\n\r\n\tfactory.beforeEdit = function(slug, id, token)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/' + slug + '/comments/' + id + '?token=' + token);\r\n\t};\r\n\r\n\tfactory.editComment = function(slug, id, dataWithToken)\r\n\t{\r\n\t\treturn $http.put($rootScope.endPoint + '/' + slug + '/comments/' + id + '?token=' + dataWithToken.token, dataWithToken);\r\n\t};\r\n\r\n\tfactory.deleteComment = function(slug, id, token)\r\n\t{\r\n\t\treturn $http.delete($rootScope.endPoint + '/' + slug + '/comments/' + id + '?token=' + token);\r\n\t};\r\n\r\n\treturn factory;\r\n};\r\n\r\ncommentFactory.$injector = ['$http', '$rootScope'];\r\n\r\nangular.module('blog')\r\n\t.factory('commentFactory', commentFactory);","var userFactory = function($http, $rootScope)\r\n{\r\n\tvar factory = {};\r\n\r\n\tfactory.getUser = function(id)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/users/' + id);\r\n\t};\r\n\r\n\tfactory.getUserArticles = function(id)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/articles/users/' + id);\r\n\t};\r\n\r\n\tfactory.getComments = function(id)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/comments/users/' + id);\r\n\t};\r\n\r\n\tfactory.login = function(credentials)\r\n\t{\r\n\t\treturn $http.post($rootScope.endPoint + '/auth/login', credentials);\r\n\t};\r\n\r\n\tfactory.getUserFromToken = function(token)\r\n\t{\r\n\t\treturn $http.get($rootScope.endPoint + '/auth/user?token=' + token);\r\n\t};\r\n\r\n\tfactory.createUser = function(credentials)\r\n\t{\r\n\t\treturn $http.post($rootScope.endPoint + '/users', credentials);\r\n\t};\r\n\r\n\tfactory.changeEmail = function(id, data, token)\r\n\t{\r\n\t\treturn $http.put($rootScope.endPoint + '/users/' + id + '/edit/email?token=' + token, data);\r\n\t};\r\n\r\n\tfactory.changePassword = function(id, data, token)\r\n\t{\r\n\t\treturn $http.put($rootScope.endPoint + '/users/' + id + '/edit/password?token=' + token, data);\r\n\t};\r\n\r\n\treturn factory;\r\n};\r\n\r\nuserFactory.$injector = ['$http', '$rootScope'];\r\n\r\nangular.module('blog')\r\n\t.factory('userFactory', userFactory);","var authController = function($scope, $rootScope, Notification, userFactory, $cookies, $window, $state)\r\n{\r\n\tif ($rootScope.loggedIn)\r\n\t{\r\n\t\t$state.go('home');\r\n\t}\r\n\r\n\t$scope.login = function()\r\n\t{\r\n        var credentials = {\r\n            email: $scope.email,\r\n            password: $scope.password\r\n        }\r\n\r\n        userFactory.login(credentials)\r\n        \t.success(function(response)\r\n        \t{\r\n        \t\t$cookies.put('token', response.token);\r\n\r\n        \t\t$rootScope.token = response.token;\r\n\r\n        \t\tuserFactory.getUserFromToken(response.token)\r\n        \t\t\t.success(function(data)\r\n        \t\t\t{\r\n        \t\t\t\t$rootScope.user = data.user;\r\n\r\n        \t\t\t\t$window.location.reload();\r\n        \t\t\t})\r\n        \t\t\t.error(function(error)\r\n        \t\t\t{\r\n        \t\t\t\tNotification.error('<span class=\"fa fa-exclamation-circle\"></span> ' + error);\r\n        \t\t\t});\r\n        \t})\r\n        \t.error(function(response)\r\n        \t{\r\n                Notification.error('<span class=\"fa fa-exclamation-circle\"></span> ' + response.error);\r\n        \t});\r\n\t}\r\n};\r\n\r\nauthController.$injector = ['$scope', '$rootScope', 'Notification', '$state', '$auth', 'userFactory', '$cookies', '$window', '$state'];\r\n\r\nangular.module('blog')\r\n\t.controller('authController', authController);","var logoutController = function($rootScope, $localStorage, $cookies, $state, $window)\r\n{\r\n\tif ($rootScope.loggedIn)\r\n\t{\r\n\t\tdelete $localStorage.token;\r\n\r\n\t\t$cookies.remove('token');\r\n\t\t$cookies.remove('user');\r\n\r\n\t\t$window.location.reload();\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$state.go('home');\r\n\t}\r\n};\r\n\r\nlogoutController.$injector = ['$rootScope', '$localStorage', '$cookies', '$state', '$window'];\r\n\r\nangular.module('blog')\r\n\t.controller('logoutController', logoutController);","var notificationController = function($scope, $rootScope, Notification)\r\n{\r\n\tif ($rootScope.notification.popup)\r\n\t{\r\n\t\tif ($rootScope.notification.type === 'success')\r\n\t\t{\r\n\t\t\tNotification.success($rootScope.notification.msg);\r\n\t\t\t$rootScope.notification.popup = false;\r\n\t\t}\r\n\t\t\r\n\t\tif ($rootScope.notification.type === 'error')\r\n\t\t{\r\n\t\t\tNotification.error($rootScope.notification.msg);\r\n\t\t\t$rootScope.notification.popup = false;\r\n\t\t}\r\n\t\t\r\n\t\tif ($rootScope.notification.type === 'warning')\r\n\t\t{\r\n\t\t\tNotification.warning($rootScope.notification.msg);\r\n\t\t\t$rootScope.notification.popup = false;\r\n\t\t}\r\n\t\t\r\n\t\tif ($rootScope.notification.type === 'info')\r\n\t\t{\r\n\t\t\tNotification.info($rootScope.notification.msg);\r\n\t\t\t$rootScope.notification.popup = false;\r\n\t\t}\r\n\t\t\r\n\t\tif ($rootScope.notification.type === 'primary')\r\n\t\t{\r\n\t\t\tNotification($rootScope.notification.msg);\r\n\t\t\t$rootScope.notification.popup = false;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nnotificationController.$injector = ['$scope', '$rootScope', 'Notification'];\r\n\r\nangular.module('blog')\r\n\t.controller('notificationController', notificationController);","var articlesCreateController = function($scope, $rootScope, $state, $stateParams, Notification, articleFactory, $interval, blockUI)\r\n{\r\n\t$scope.published_at = new Date();\r\n\r\n\tif ($rootScope.loggedIn)\r\n\t{\r\n\r\n\t\tblockUI.start();\r\n\r\n\t\tvar timer = $interval(function()\r\n\t\t{\r\n\t\t\tif ($rootScope.userObtained)\r\n\t\t\t{\r\n\t\t\t\t$interval.cancel(timer);\r\n\t\t\t\tdelete timer;\r\n\t\t\t\t\r\n\t\t\t\tarticleFactory.beforeCreateArticle($rootScope.token)\r\n\t\t\t\t\t.success(function(response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.category_list = [];\r\n\t\t\t\t\t\t$scope.tag_list = [];\r\n\r\n\t\t\t\t\t\t$scope.categories = response.categories;\r\n\t\t\t\t\t\t$scope.tags = response.tags;\r\n\t\t\t\t\t\tblockUI.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tblockUI.stop();\r\n\t\t\t\t\t\t$state.go('articles');\r\n\r\n\t\t\t\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n\t\t\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$state.go('articles');\r\n\r\n\t\t$rootScope.notification.type = 'error';\r\n\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n\t\t$rootScope.notification.popup = true;\r\n\t}\r\n\t\r\n\t$scope.create = function()\r\n\t{\r\n\t\tif (tag_list.length > 0)\r\n\t\t{\r\n\t\t\tdata = {\r\n\t\t\t\tslug: $scope.slug,\r\n\t\t\t\ttitle: $scope.title,\r\n\t\t\t\tcategory_list: $scope.category_list,\r\n\t\t\t\texcerpt: $scope.excerpt,\r\n\t\t\t\tbody: $scope.body,\r\n\t\t\t\timage_url: $scope.image_url,\r\n\t\t\t\tpublished_at: moment($scope.published_at).format('YYYY-MM-DD'),\r\n\t\t\t\ttag_list: $scope.tag_list\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tdata = {\r\n\t\t\t\tslug: $scope.slug,\r\n\t\t\t\ttitle: $scope.title,\r\n\t\t\t\tcategory_list: $scope.category_list,\r\n\t\t\t\texcerpt: $scope.excerpt,\r\n\t\t\t\tbody: $scope.body,\r\n\t\t\t\timage_url: $scope.image_url,\r\n\t\t\t\tpublished_at: moment($scope.published_at).format('YYYY-MM-DD')\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tarticleFactory.createArticle(data, $rootScope.token)\r\n\t\t\t.success(function()\r\n\t\t\t{\r\n\t\t\t\t$state.go('articles');\r\n\r\n        \t\t$rootScope.notification.type = 'success';\r\n\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully added article!';\r\n\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t})\r\n\t\t\t.error(function(response)\r\n\t\t\t{\r\n\t\t\t\tif (response.errors.slug[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.slug[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.title[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.title[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.category_list[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.category_list[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.excerpt[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.excerpt[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.body[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.body[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.image_url[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.image_url[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.published_at[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.published_at[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.errors.tag_list[0] !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error({\r\n\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.tag_list[0],\r\n\t        \t\t\tdelay: 10000\r\n\t        \t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\narticlesCreateController.$injector = ['$scope', '$rootScope', '$state', 'Notification', 'articleFactory', '$interval', 'blockUI'];\r\n\r\nangular.module('blog')\r\n\t.controller('articlesCreateController', articlesCreateController);","var articlesEditController = function($scope, $rootScope, $state, $stateParams, $interval, Notification, blockUI, articleFactory)\r\n{\r\n\tif ($rootScope.loggedIn)\r\n\t{\r\n\t\tblockUI.start();\r\n\r\n\t\tvar timer = $interval(function()\r\n\t\t{\r\n\t\t\tif ($rootScope.userObtained)\r\n\t\t\t{\r\n\t\t\t\t$interval.cancel(timer);\r\n\t\t\t\tdelete timer;\r\n\r\n\t\t\t\tarticleFactory.beforeEditArticle($stateParams.articleSlug, $rootScope.token)\r\n\t\t\t\t\t.success(function(response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.article = response.article;\r\n\t\t\t\t\t\t$scope.categories = response.categories;\r\n\t\t\t\t\t\t$scope.tags = response.tags;\r\n\r\n\t\t\t\t\t\t$scope.slug = response.article.slug;\r\n\t\t\t\t\t\t$scope.category_list = response.article.categories;\r\n\t\t\t\t\t\t$scope.title = response.article.title;\r\n\t\t\t\t\t\t$scope.excerpt = response.article.excerpt;\r\n\t\t\t\t\t\t$scope.body = response.article.body;\r\n\t\t\t\t\t\t$scope.image_url = response.article.image_url;\r\n\t\t\t\t\t\t$scope.published_at = new Date(response.article.published_at.date);\r\n\t\t\t\t\t\t$scope.tag_list = response.article.tags;\r\n\r\n\t\t\t\t\t\t$scope.category_list = [];\r\n\t\t\t\t\t\t$scope.tag_list = [];\r\n\r\n\t\t\t\t\t\tfor (i=0; i<response.categories.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor(j=0; j<response.article.categories.length; j++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (response.categories[i].id === response.article.categories[j].id)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t$scope.category_list.push(response.categories[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\t\t\t\t\r\n\r\n\t\t\t\t\t\t$scope.$watch('category_list', function(nowSelected){\r\n\t\t\t\t\t        $scope.selectedCategories = [];\r\n\t\t\t\t\t        \r\n\t\t\t\t\t        if( ! nowSelected ){\r\n\t\t\t\t\t            // here we've initialized selected already\r\n\t\t\t\t\t            // but sometimes that's not the case\r\n\t\t\t\t\t            // then we get null or undefined\r\n\t\t\t\t\t            return;\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t        angular.forEach(nowSelected, function(val){\r\n\t\t\t\t\t            $scope.selectedCategories.push( val.id.toString() );\r\n\t\t\t\t\t            $('#category_list').select2(\"val\", $scope.selectedCategories);\t\t\t\t            \r\n\t\t\t\t\t        });\r\n\t\t\t\t\t    });\r\n\r\n\t\t\t\t\t\tblockUI.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tblockUI.stop();\r\n\t\t\t\t\t\t$state.go('articles');\r\n\r\n\t\t\t\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n\t\t\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t$scope.edit = function()\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log($rootScope.token);\r\n\t\t\t\t\tif (tag_list.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t\ttoken: $rootScope.token,\r\n\t\t\t\t\t\t\tslug: $scope.slug,\r\n\t\t\t\t\t\t\ttitle: $scope.title,\r\n\t\t\t\t\t\t\tcategory_list: $scope.selectedCategories,\r\n\t\t\t\t\t\t\texcerpt: $scope.excerpt,\r\n\t\t\t\t\t\t\tbody: $scope.body,\r\n\t\t\t\t\t\t\timage_url: $scope.image_url,\r\n\t\t\t\t\t\t\tpublished_at: moment($scope.published_at).format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\ttag_list: $scope.tag_list\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t\ttoken: $rootScope.token,\r\n\t\t\t\t\t\t\tslug: $scope.slug,\r\n\t\t\t\t\t\t\ttitle: $scope.title,\r\n\t\t\t\t\t\t\tcategory_list: $scope.category_list,\r\n\t\t\t\t\t\t\texcerpt: $scope.excerpt,\r\n\t\t\t\t\t\t\tbody: $scope.body,\r\n\t\t\t\t\t\t\timage_url: $scope.image_url,\r\n\t\t\t\t\t\t\tpublished_at: moment($scope.published_at).format('YYYY-MM-DD')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tarticleFactory.editArticle($scope.slug, data)\r\n\t\t\t\t\t\t.success(function()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$state.go('articles');\r\n\r\n\t\t\t        \t\t$rootScope.notification.type = 'success';\r\n\t\t\t\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully edited article!';\r\n\t\t\t\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\tif (response.errors.slug[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.slug[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.title[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.title[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.category_list[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.category_list[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.excerpt[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.excerpt[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.body[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.body[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.image_url[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.image_url[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.published_at[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.published_at[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (response.errors.tag_list[0] !== undefined)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.tag_list[0],\r\n\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$state.go('articles');\r\n\r\n\t\t$rootScope.notification.type = 'error';\r\n\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n\t\t$rootScope.notification.popup = true;\r\n\t}\r\n};\r\n\r\narticlesEditController.$injector = ['$scope', '$rootScope', '$state', '$stateParams', '$interval', 'Notification', 'blockUI', 'articleFactory'];\r\n\r\nangular.module('blog')\r\n\t.controller('articlesEditController', articlesEditController);","var articlesFilterController = function($scope, $rootScope, $state, $stateParams, Notification, articleFactory)\r\n{\r\n\t$scope.totalPages = 0;\r\n\t$scope.currentPage = 1;\r\n\t$scope.range = [];\r\n\r\n\t$scope.getArticles = function(pageNumber)\r\n\t{\r\n\t\tif(pageNumber===undefined)\r\n\t\t{\r\n\t\t\tpageNumber = '1';\r\n\t\t}\r\n\r\n\t\tif ($stateParams.filterBy === 'categories')\r\n\t\t{\r\n\t\t\tarticleFactory.filterByCategory($stateParams.filterID, pageNumber)\r\n\t\t\t\t.success(function(response)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.articles     = response.data;\r\n\t\t\t\t\t$scope.totalPages   = response.last_page;\r\n\t\t\t\t\t$scope.currentPage  = response.current_page;\r\n\t\t\r\n\t\t\t\t\t// Pagination Range\r\n\t\t\t\t\tvar pages = [];\r\n\t\t\r\n\t\t\t\t\tfor(var i=1;i<=response.last_page;i++) {          \r\n\t\t\t \t\t\tpages.push(i);\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t$scope.range = pages;\r\n\r\n\t\t\t\t\tarticleFactory.getCategory($stateParams.filterID)\r\n\t\t\t\t\t\t.success(function(response)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$scope.filterCategory = response;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(response)\r\n\t\t\t\t{\r\n\t\t\t\t\t$state.go('articles');\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse if ($stateParams.filterBy === 'tags')\r\n\t\t{\r\n\t\t\tarticleFactory.filterByTag($stateParams.filterID, pageNumber)\r\n\t\t\t\t.success(function(response)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.articles     = response.data;\r\n\t\t\t\t\t$scope.totalPages   = response.last_page;\r\n\t\t\t\t\t$scope.currentPage  = response.current_page;\r\n\t\t\r\n\t\t\t\t\t// Pagination Range\r\n\t\t\t\t\tvar pages = [];\r\n\t\t\r\n\t\t\t\t\tfor(var i=1;i<=response.last_page;i++) {          \r\n\t\t\t \t\t\tpages.push(i);\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t$scope.range = pages;\r\n\r\n\t\t\t\t\tarticleFactory.getTag($stateParams.filterID)\r\n\t\t\t\t\t\t.success(function(response)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$scope.filterTag = response;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(response)\r\n\t\t\t\t{\r\n\t\t\t\t\t$state.go('articles');\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$state.go('articles');\r\n\t\t}\r\n\r\n\t\t$scope.delete = function(slug)\r\n\t\t{\r\n\t\t\tarticleFactory.deleteArticle(slug, $rootScope.token)\r\n\t\t\t\t.success(function()\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.success('<span class=\"fa fa-check-circle\"></span> You successfully deleted article!');\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(response)\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n\t\t\t\t});\r\n\t\t};\r\n\t};\r\n};\r\n\r\narticlesFilterController.$injector = ['$scope', '$rootScope', '$state', '$stateParams', 'Notification', 'articleFactory'];\r\n\r\nangular.module('blog')\r\n\t.controller('articlesFilterController', articlesFilterController);","var articlesIndexController = function($scope, $rootScope, articleFactory, Notification)\r\n{\r\n\t$scope.totalPages = 0;\r\n\t$scope.currentPage = 1;\r\n\t$scope.range = [];\r\n\r\n\t$scope.getArticles = function(pageNumber)\r\n\t{\r\n\t\tif(pageNumber===undefined)\r\n\t\t{\r\n\t\t\tpageNumber = '1';\r\n\t\t}\r\n\r\n\t\tarticleFactory.getArticles(pageNumber)\r\n\t\t\t.success(function(response)\r\n\t\t\t{\r\n\t\t\t\t$scope.articles     = response.data;\r\n\t\t\t\t$scope.totalPages   = response.last_page;\r\n\t\t\t\t$scope.currentPage  = response.current_page;\r\n\t\r\n\t\t\t\t// Pagination Range\r\n\t\t\t\tvar pages = [];\r\n\t\r\n\t\t\t\tfor(var i=1;i<=response.last_page;i++) {          \r\n\t\t \t\t\tpages.push(i);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t$scope.range = pages;\r\n\r\n\t\t\t\t$scope.delete = function(slug)\r\n\t\t\t\t{\r\n\t\t\t\t\tarticleFactory.deleteArticle(slug, $rootScope.token)\r\n\t\t\t\t\t\t.success(function()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tNotification.success('<span class=\"fa fa-check-circle\"></span> You successfully deleted article!');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tNotification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\narticleFactory.$injector = ['$scope', '$rootScope', 'articleFactory', 'Notification'];\r\n\r\nangular.module('blog')\r\n\t.controller('articlesIndexController', articlesIndexController);","var articlesShowController = function($scope, $rootScope, articleFactory, $stateParams, $timeout, $state, Notification, commentFactory, $window)\r\n{\r\n\tvar amount = 5;\r\n\tarticleFactory.getArticle($stateParams.articleSlug)\r\n\t\t.success(function(article)\r\n\t\t{\r\n\t\t\t$scope.article = article;\r\n\r\n\t\t\t$scope.amount = amount;\r\n\r\n\t\t\t$scope.delete = function()\r\n\t\t\t{\r\n\t\t\t\tarticleFactory.deleteArticle($stateParams.articleSlug, $rootScope.token)\r\n\t\t\t\t\t.success(function()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$state.go('articles');\r\n\t\t\t\r\n\t\t\t\t\t\t$rootScope.notification.type = 'success';\r\n\t\t\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully deleted article!';\r\n\t\t\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tNotification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t$scope.deleteComment = function(id)\r\n\t\t\t{\r\n\t\t\t\tcommentFactory.deleteComment($stateParams.articleSlug, id, $rootScope.token)\r\n\t\t\t\t\t.success(function()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$window.location.reload();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tNotification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t$scope.loadComments = function() \r\n\t\t\t{\r\n\t\t    \t$rootScope.spinner.active = true;\r\n\r\n\t\t\t\t$timeout(function()\r\n\t\t\t\t{\r\n\t\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t\t\t$scope.amount = $scope.amount + amount;\r\n\t\t\t\t}, 1000);\r\n\t\t\t};\r\n\r\n\t\t\t$timeout(function()\r\n\t\t\t{\r\n\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t}, 1000);\r\n\t\t})\r\n\t\t.error(function(resource, status)\r\n\t\t{\r\n\t\t\t$state.go('articles');\r\n\t\t\t\r\n\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error;\r\n\t\t\t$rootScope.notification.popup = true;\r\n\t\t});\r\n};\r\n\r\narticlesShowController.$injector = ['$scope', '$rootScope', 'articleFactory', '$stateParams', '$timeout', '$state', 'Notification', 'commentFactory', '$window'];\r\n\r\nangular.module('blog')\r\n\t.controller('articlesShowController', articlesShowController);","var sideBarController = function($scope, articleFactory)\r\n{\r\n\tarticleFactory.getCategoryList()\r\n\t\t.success(function(categories)\r\n\t\t{\r\n\t\t\t$scope.categories = categories;\r\n\t\t});\r\n};\r\n\r\nsideBarController.$injector = ['$scope', 'articleFactory'];\r\n\r\nangular.module('blog')\r\n\t.controller('sideBarController', sideBarController);","var commentsCEController = function($scope, $rootScope, commentFactory, $state, $stateParams, Notification, $window, $interval)\r\n{\r\n\tif ($stateParams.commentID === undefined)\r\n\t{\r\n\t\t$scope.type = \"create\";\r\n\r\n\t\t$scope.create = function()\r\n\t\t{\r\n\t\t\tdata = {\r\n\t\t\t\tbody: $scope.create_body\r\n\t\t\t};\r\n\r\n\t\t\tcommentFactory.createComment($stateParams.articleSlug, data, $rootScope.token)\r\n\t\t\t\t.success(function()\r\n\t\t\t\t{\r\n\t\t\t\t\t$window.location.reload();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function()\r\n\t\t\t\t{\r\n\t\t\t\t\tNotification.error('<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission!');\r\n\t\t\t\t});\r\n\t\t};\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$scope.type = \"edit\";\r\n\r\n\t\tif ($rootScope.loggedIn)\r\n\t\t{\r\n\t\t\tvar timer = $interval(function()\r\n\t\t\t{\r\n\t\t\t\tif ($rootScope.userObtained)\r\n\t\t\t\t{\r\n\t\t\t\t\t$interval.cancel(timer);\r\n\t\t\t\t\tdelete timer;\r\n\r\n\t\t\t\t\tcommentFactory.beforeEdit($stateParams.articleSlug, $stateParams.commentID, $rootScope.token)\r\n\t\t\t\t\t\t.success(function(response)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$scope.edit_body = response.body;\r\n\r\n\t\t\t\t\t\t\t$scope.edit = function()\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t\t\t\tbody: $scope.edit_body,\r\n\t\t\t\t\t\t\t\t\ttoken: $rootScope.token\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tcommentFactory.editComment($stateParams.articleSlug, $stateParams.commentID, data)\r\n\t\t\t\t\t\t\t\t\t.success(function()\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t$state.go('articles_show', { articleSlug: $stateParams.articleSlug });\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tif (response.errors.body[0] !== undefined)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tNotification.error({\r\n\t\t\t\t\t\t\t        \t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.body[0],\r\n\t\t\t\t\t\t\t        \t\t\tdelay: 10000\r\n\t\t\t\t\t\t\t        \t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(response)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$state.go('articles_show', { articleSlug: $stateParams.articleSlug });\r\n\r\n\t\t\t\t\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n\t\t\t\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$state.go('articles_show', { articleSlug: $stateParams.articleSlug });\r\n\r\n\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n\t\t\t$rootScope.notification.popup = true;\r\n\t\t}\r\n\t}\r\n};\r\n\r\ncommentsCEController.$injector = ['$scope', '$rootScope', 'commentFactory', 'Notification', '$window', '$interval'];\r\n\r\nangular.module('blog')\r\n\t.controller('commentsCEController', commentsCEController);","var usersController = function($scope, $rootScope, $interval, blockUI)\r\n{\r\n\tif ($rootScope.loggedIn)\r\n\t{\r\n\t\tblockUI.start();\r\n\r\n\t\t$scope.auth = {};\r\n\r\n\t\t$scope.auth.loggedIn = true;\r\n\r\n\t\t$interval(function()\r\n\t\t{\r\n\t\t\tif ($rootScope.userObtained)\r\n\t\t\t{\r\n\t\t\t\t$interval.cancel();\r\n\t\t\t\t$scope.auth.user = $rootScope.user;\r\n\t\t\t\t$scope.auth.token = $rootScope.token;\r\n\t\t\t\tblockUI.stop();\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\telse\r\n\t{\r\n\t\t$scope.loggedIn = false;\r\n\t}\r\n};\r\n\r\nusersController.$injector = ['$scope', '$rootScope', '$interval', 'blockUI'];\r\n\r\nangular.module('blog')\r\n\t.controller('usersController', usersController);","var usersEditController = function($scope, $rootScope, $stateParams, $state, userFactory, Notification)\r\n{\r\n\tuserFactory.getUser($stateParams.userID)\r\n\t\t.success(function(user, status)\r\n\t\t{\r\n\t\t\t$scope.user = user;\r\n\r\n\t\t\tif ($stateParams.editParam === 'email')\r\n\t\t\t{\r\n\t\t\t\tif ($rootScope.user.id === user.id || $rootScope.user.group_id === 1)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.edit = 'email';\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t$state.go('users_show', { userID: $stateParams.userID });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ($stateParams.editParam === 'password')\r\n\t\t\t{\r\n\t\t\t\tif ($rootScope.user.id === user.id || $rootScope.user.group_id === 1)\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.edit = 'password';\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t$state.go('users_show', { userID: $stateParams.userID });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$state.go('users_show', { userID: $stateParams.userID });\r\n\t\t\t}\r\n\t\t})\r\n\t\t.error(function(resource, status)\r\n\t\t{\r\n\t\t\t$state.go('articles');\r\n\t\t\t\r\n\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error;\r\n\t\t\t$rootScope.notification.popup = true;\r\n\t\t});\r\n\r\n\t$scope.editEmail = function()\r\n\t{\r\n\t\t$state.go('users_edit', { userID: $stateParams.userID, editParam: 'email' });\r\n\t};\r\n\r\n\t$scope.editPassword = function()\r\n\t{\r\n\t\t$state.go('users_edit', { userID: $stateParams.userID, editParam: 'password' });\r\n\t};\r\n\r\n\t$scope.changeEmail = function()\r\n\t{\r\n\t\tvar credentials = {\r\n\t\t\temail: $scope.email,\r\n\t\t\temail_confirmation: $scope.email_confirmation\r\n\t\t};\r\n\r\n\t\tuserFactory.changeEmail($scope.user.id, credentials, $rootScope.token)\r\n\t\t\t.success(function()\r\n\t\t\t{\r\n\t\t\t\t$state.go('users_show', { userID: $stateParams.userID });\r\n\r\n        \t\t$rootScope.notification.type = 'success';\r\n\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully changed email!';\r\n\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t})\r\n\t\t\t.error(function(response)\r\n\t\t\t{\r\n\t\t\t\tNotification.error({\r\n        \t\t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.email[0],\r\n        \t\t\t\tdelay: 10000\r\n        \t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\t$scope.changePassword = function()\r\n\t{\r\n\t\tvar credentials = {\r\n\t\t\tpassword: $scope.password,\r\n\t\t\tpassword_confirmation: $scope.password_confirmation\r\n\t\t};\r\n\r\n\t\tconsole.log($rootScope.token);\r\n\t\t\r\n\t\tuserFactory.changePassword($scope.user.id, credentials, $rootScope.token)\r\n\t\t\t.success(function()\r\n\t\t\t{\r\n\t\t\t\t$state.go('users_show', { userID: $stateParams.userID });\r\n\r\n        \t\t$rootScope.notification.type = 'success';\r\n\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully changed password!';\r\n\t\t\t\t$rootScope.notification.popup = true;\r\n\t\t\t})\r\n\t\t\t.error(function(response)\r\n\t\t\t{\r\n\t\t\t\tNotification.error({\r\n        \t\t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.password[0],\r\n        \t\t\t\tdelay: 10000\r\n        \t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nusersEditController.$injector = ['$scope', '$rootScope', '$stateParams', '$state', 'userFactory', 'Notification'];\r\n\r\nangular.module('blog')\r\n\t.controller('usersEditController', usersEditController);","var usersRegisterController = function($rootScope, $scope, $state, userFactory, Notification)\r\n{\r\n    if ($rootScope.loggedIn)\r\n    {\r\n        $state.go('articles');\r\n    }\r\n    \r\n\t$scope.register = function()\r\n\t{\r\n\t\tvar credentials = {\r\n\t\t\tusername: $scope.username,\r\n            email: $scope.email,\r\n            password: $scope.password,\r\n            password_confirmation: $scope.password_confirmation\r\n        };\r\n\r\n        userFactory.createUser(credentials)\r\n        \t.success(function()\r\n        \t{\r\n        \t\t$state.go('login');\r\n\r\n        \t\t$rootScope.notification.type = 'success';\r\n\t\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully created account!';\r\n\t\t\t\t$rootScope.notification.popup = true;\r\n        \t})\r\n        \t.error(function(response)\r\n        \t{\r\n        \t\tif (response.errors.username !== undefined)\r\n        \t\t{\r\n        \t\t\tNotification.error({\r\n        \t\t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.username[0],\r\n        \t\t\t\tdelay: 10000\r\n        \t\t\t});\r\n        \t\t}\r\n\r\n        \t\tif (response.errors.email !== undefined)\r\n        \t\t{\r\n        \t\t\tNotification.error({\r\n        \t\t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.email[0],\r\n        \t\t\t\tdelay: 10000\r\n        \t\t\t});\r\n        \t\t}\r\n        \t\t\r\n        \t\tif (response.errors.password !== undefined)\r\n        \t\t{\r\n        \t\t\tNotification.error({\r\n        \t\t\t\tmessage: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.password[0],\r\n        \t\t\t\tdelay: 10000\r\n        \t\t\t});\r\n        \t\t}\r\n        \t})\r\n\t};\r\n};\r\n\r\nusersRegisterController.$injector = ['$rootScope', '$scope', '$state', '$window', '$cookies', 'userFactory'];\r\n\r\nangular.module('blog')\r\n\t.controller('usersRegisterController', usersRegisterController);","var usersShowController = function($scope, userFactory, $stateParams, $rootScope, $timeout, $window, $state, Notification, $interval)\r\n{\r\n\tuserFactory.getUser($stateParams.userID)\r\n\t\t.success(function(user, status)\r\n\t\t{\r\n\t\t\t$scope.user = user;\r\n\r\n\t\t\tif ($stateParams.showParam !== undefined)\r\n\t\t\t{\r\n\t\t\t\tif ($stateParams.showParam === 'articles')\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.hideActivities = true;\r\n\t\t\t\t\t$scope.hideArticles = false;\r\n\t\t\t\t\t$scope.hideComments = true;\r\n\t\t\t\t\t$scope.lastActive = \"\";\r\n\t\t\t\t\t$scope.articlesActive = \"active\";\r\n\t\t\t\t\t$scope.commentsActive = \"\";\r\n\r\n\t\t\t\t\t$rootScope.spinner.active = true;\r\n\r\n\t\t\t\t\tuserFactory.getUserArticles(user.id)\r\n\t\t\t\t\t\t.success(function(resource, status)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$scope.articles = resource.articles;\r\n\t\t\t\t\t\t\t$scope.articlesAmount = 6;\r\n\r\n\t\t\t\t\t\t\t$timeout(function()\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(resource, status)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tNotification.error(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tmessage: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse if ($stateParams.showParam === 'comments')\r\n\t\t\t\t{\r\n\t\t\t\t\t$scope.hideActivities = true;\r\n\t\t\t\t\t$scope.hideArticles = true;\r\n\t\t\t\t\t$scope.hideComments = false;\r\n\t\t\t\t\t$scope.lastActive = \"\";\r\n\t\t\t\t\t$scope.articlesActive = \"\";\r\n\t\t\t\t\t$scope.commentsActive = \"active\";\r\n\r\n\t\t\t\t\t$rootScope.spinner.active = true;\r\n\r\n\t\t\t\t\tuserFactory.getComments(user.id)\r\n\t\t\t\t\t\t.success(function(resource, status)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$scope.comments = resource.comments;\r\n\t\t\t\t\t\t\t$scope.commentsAmount = 5;\r\n\r\n\t\t\t\t\t\t\t$timeout(function()\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(resource, status)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tNotification.error(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tmessage: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t$state.go('users_show', { userID: $stateParams.userID });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t$scope.hideActivities = false;\r\n\t\t\t\t$scope.hideArticles = true;\r\n\t\t\t\t$scope.hideComments = true;\r\n\t\t\t\t$scope.lastActive = \"active\";\r\n\t\t\t\t$scope.articlesActive = \"\";\r\n\t\t\t\t$scope.commentsActive = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t$scope.getActivities = function()\r\n\t\t\t{\r\n\t\t\t\t$scope.hideActivities = false;\r\n\t\t\t\t$scope.hideArticles = true;\r\n\t\t\t\t$scope.hideComments = true;\r\n\t\t\t\t$scope.lastActive = \"active\";\r\n\t\t\t\t$scope.articlesActive = \"\";\r\n\t\t\t\t$scope.commentsActive = \"\";\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t$scope.getArticles = function()\r\n\t\t\t{\r\n\t\t\t\t$scope.hideActivities = true;\r\n\t\t\t\t$scope.hideArticles = false;\r\n\t\t\t\t$scope.hideComments = true;\r\n\t\t\t\t$scope.lastActive = \"\";\r\n\t\t\t\t$scope.articlesActive = \"active\";\r\n\t\t\t\t$scope.commentsActive = \"\";\r\n\r\n\t\t\t\t$rootScope.spinner.active = true;\r\n\r\n\t\t\t\tuserFactory.getUserArticles(user.id)\r\n\t\t\t\t\t.success(function(resource, status)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.articles = resource.articles;\r\n\t\t\t\t\t\t$scope.articlesAmount = 6;\r\n\r\n\t\t\t\t\t\t$timeout(function()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(resource, status)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tNotification.error(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmessage: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t$scope.getComments = function()\r\n\t\t\t{\r\n\t\t\t\t$scope.hideActivities = true;\r\n\t\t\t\t$scope.hideArticles = true;\r\n\t\t\t\t$scope.hideComments = false;\r\n\t\t\t\t$scope.lastActive = \"\";\r\n\t\t\t\t$scope.articlesActive = \"\";\r\n\t\t\t\t$scope.commentsActive = \"active\";\r\n\r\n\t\t\t\t$rootScope.spinner.active = true;\r\n\r\n\t\t\t\tuserFactory.getComments(user.id)\r\n\t\t\t\t\t.success(function(resource, status)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$scope.comments = resource.comments;\r\n\t\t\t\t\t\t$scope.commentsAmount = 5;\r\n\r\n\t\t\t\t\t\t$timeout(function()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(resource, status)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tNotification.error(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmessage: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t$scope.loadArticles = function()\r\n\t\t\t{\r\n\t\t\t\t$rootScope.spinner.active = true;\r\n\r\n\t\t\t\t$timeout(function()\r\n\t\t\t\t{\r\n\t\t\t\t\t$rootScope.spinner.active = false;\r\n\t\t\t\t\t$scope.articlesAmount = $scope.articlesAmount + 3;\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.error(function(resource, status)\r\n\t\t{\r\n\t\t\t$state.go('articles');\r\n\t\t\t\r\n\t\t\t$rootScope.notification.type = 'error';\r\n\t\t\t$rootScope.notification.msg = '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error;\r\n\t\t\t$rootScope.notification.popup = true;\r\n\t\t});\r\n\r\n\t$scope.go = function(path) \r\n\t{\r\n\t\t$window.open(path, '_blank');\r\n\t};\r\n\r\n\t$scope.getFirstPart = function(str) \r\n\t{\r\n    \treturn str.split('@')[0];\r\n\t}\r\n\r\n\t$scope.getSecondPart = function(str) \r\n\t{\r\n    \treturn str.split('@')[1];\r\n\t}\r\n};\r\n\r\nusersShowController.$injector = ['$scope', 'userFactory', '$stateParams', '$rootScope', '$timeout', '$window', '$state', 'Notification', '$interval'];\r\n\r\nangular.module('blog')\r\n\t.controller('usersShowController', usersShowController);"],"sourceRoot":"/source/"}