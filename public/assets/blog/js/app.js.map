{"version":3,"sources":["app.js","directives.js","routes.js","articleFactory.js","commentFactory.js","userFactory.js","authController.js","logoutController.js","notificationController.js","articles/articlesCreateController.js","articles/articlesEditController.js","articles/articlesFilterController.js","articles/articlesIndexController.js","articles/articlesShowController.js","articles/sideBarController.js","comments/commentsCEController.js","users/usersController.js","users/usersEditController.js","users/usersRegisterController.js","users/usersShowController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var blog = angular.module('blog', [\r\n    'ui.router',\r\n    'ngAnimate',\r\n    'angular-loading-bar',\r\n    'yaru22.angular-timeago',\r\n    'blockUI',\r\n    'ui.bootstrap',\r\n    'ui-notification',\r\n    'treasure-overlay-spinner',\r\n    'ngCookies'\r\n])\r\n.run(function($rootScope, $cookies, $http, $interval, $state, Notification, $window, $timeout)\r\n{\r\n    $rootScope.endPoint = 'http://myblog.lv/api';\r\n    $rootScope.spinner = {\r\n        active: true\r\n    };\r\n\r\n    $rootScope.notification = {\r\n        type: '',\r\n        msg: '',\r\n        popup: false\r\n    };\r\n\r\n    $rootScope.loggedIn = true;\r\n\r\n    if ($cookies.get('token') !== undefined)\r\n    {\r\n        $rootScope.userObtained = false;\r\n        \r\n        $http.get($rootScope.endPoint + '/auth/user?token=' + $cookies.get('token'))\r\n            .success(function(response)\r\n            {\r\n                $rootScope.token = $cookies.get('token');\r\n                $rootScope.user = response.user;\r\n                $rootScope.userObtained = true;\r\n            })\r\n            .error(function()\r\n            {\r\n                $rootScope.loggedIn = false;\r\n                delete $rootScope.user;\r\n                \r\n                $cookies.remove('user');\r\n                $cookies.remove('token');\r\n\r\n                $state.go('login');\r\n\r\n                $timeout(function()\r\n                {\r\n                    $window.location.reload();\r\n                }, 200);\r\n            });\r\n\r\n        $interval(function()\r\n        {\r\n            $http.get($rootScope.endPoint + '/auth/refresh-token?token=' + $rootScope.token)\r\n                .success(function(response)\r\n                {\r\n                    $rootScope.token = response.token;\r\n                    $cookies.put('token', response.token);\r\n                })\r\n                .error(function()\r\n                {\r\n                    delete $rootScope.user;\r\n                    $rootScope.loggedIn = false;\r\n                    \r\n                    $cookies.remove('token');\r\n\r\n                    $state.go('login');\r\n\r\n\r\n                    $timeout(function()\r\n                    {\r\n                        $window.location.reload();\r\n                    }, 200);\r\n                });\r\n        }, 60000);\r\n    }\r\n    else\r\n    {\r\n        $rootScope.loggedIn = false;\r\n    }\r\n});","angular.module('blog') \r\n    .directive('postsPagination', function()\r\n    {  \r\n        return {\r\n           restrict: 'E',\r\n           template: '<ul class=\"pagination\">'+\r\n             '<li ng-show=\"currentPage != 1\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(1)\">&laquo;</a></li>'+\r\n             '<li ng-show=\"currentPage != 1\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(currentPage-1)\">&lsaquo; Prev</a></li>'+\r\n             '<li ng-repeat=\"i in range\" ng-class=\"{active : currentPage == i}\">'+\r\n                 '<a href=\"javascript:void(0)\" ng-click=\"getArticles(i)\">{{i}}</a>'+\r\n              '</li>'+\r\n              '<li ng-show=\"currentPage != totalPages\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(currentPage+1)\">Next &rsaquo;</a></li>'+\r\n              '<li ng-show=\"currentPage != totalPages\"><a href=\"javascript:void(0)\" ng-click=\"getArticles(totalPages)\">&raquo;</a></li>'+\r\n            '</ul>'\r\n        };\r\n    });\r\n\r\nangular.module('blog')\r\n    .directive('ckEditor', function() {\r\n        return {\r\n            require: '?ngModel',\r\n            link: function(scope, elm, attr, ngModel) {\r\n                var ck = CKEDITOR.replace(elm[0]);\r\n\r\n                if (!ngModel) return;\r\n\r\n                ck.on('pasteState', function() {\r\n                  scope.$apply(function() {\r\n                    ngModel.$setViewValue(ck.getData());\r\n                  });\r\n                });\r\n\r\n                ngModel.$render = function(value) {\r\n                    ck.setData(ngModel.$viewValue);\r\n                };\r\n            }\r\n        };\r\n    });","angular.module('blog')  \r\n    .config(function($stateProvider, $urlRouterProvider, $sceProvider, NotificationProvider)\r\n    {\r\n        $urlRouterProvider.otherwise('/');\r\n\r\n        $stateProvider\r\n            .state('home', \r\n            {\r\n                url: '/',\r\n                templateUrl: '/views/articles',\r\n                controller: 'articlesIndexController'\r\n            })\r\n            .state('login',\r\n            {\r\n                url: '/auth/login',\r\n                templateUrl: 'views/auth/login',\r\n                controller: 'authController'\r\n            })\r\n            .state('register',\r\n            {\r\n                url: '/auth/register',\r\n                templateUrl: 'views/auth/register',\r\n                controller: 'usersRegisterController'\r\n            })\r\n            .state('logout',\r\n            {\r\n                url: '/auth/logout',\r\n                controller: 'logoutController'\r\n            })\r\n            .state('articles',\r\n            {\r\n                url: '/articles/',\r\n                templateUrl: '/views/articles',\r\n                controller: 'articlesIndexController'\r\n            })\r\n            .state('articles_create',\r\n            {\r\n                url: '/articles/create',\r\n                templateUrl: '/views/articles/create',\r\n                controller: 'articlesCreateController'\r\n            })\r\n            .state('articles_edit',\r\n            {\r\n                url: '/articles/:articleSlug/edit',\r\n                templateUrl: '/views/articles/edit',\r\n                controller: 'articlesEditController'\r\n            })\r\n            .state('comments_edit',\r\n            {\r\n                url: '/articles/:articleSlug/comments/:commentID/edit',\r\n                templateUrl: '/views/articles/show',\r\n                controller: 'articlesShowController'\r\n            })\r\n            .state('articles_show',\r\n            {\r\n                url: '/articles/:articleSlug',\r\n                templateUrl: '/views/articles/show',\r\n                controller: 'articlesShowController'\r\n            })\r\n            .state('articles_filter',\r\n            {\r\n                url: '/articles/:filterBy/:filterID',\r\n                templateUrl: '/views/articles/filter',\r\n                controller: 'articlesFilterController'\r\n            })\r\n            .state('users_show',\r\n            {\r\n                url: '/users/:userID',\r\n                templateUrl: '/views/users/show',\r\n                controller: 'usersShowController'\r\n            })\r\n            .state('users_show_stuff',\r\n            {\r\n                url: '/users/:userID/:showParam',\r\n                templateUrl: '/views/users/show',\r\n                controller: 'usersShowController'\r\n            })\r\n            .state('users_edit',\r\n            {\r\n                url: '/users/:userID/edit/:editParam',\r\n                templateUrl: '/views/users/edit',\r\n                controller: 'usersEditController'\r\n            });\r\n\r\n        NotificationProvider.setOptions(\r\n        {\r\n            delay: 5000,\r\n            startTop: 20,\r\n            startRight: 10,\r\n            verticalSpacing: 20,\r\n            horizontalSpacing: 20,\r\n            positionX: 'right',\r\n            positionY: 'bottom'\r\n        });\r\n        \r\n        $sceProvider.enabled(false);\r\n    })","var articleFactory = function($http, $rootScope)\r\n{\r\n    var factory = {};\r\n\r\n    factory.getArticles = function(pageNumber)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles?page=' + pageNumber);\r\n    };\r\n\r\n    factory.getCategoryList = function()\r\n    {\r\n        return $http.get($rootScope.endPoint + '/categories');\r\n    };\r\n\r\n    factory.getArticle = function(slug)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles/' + slug);\r\n    };\r\n\r\n    factory.beforeCreateArticle = function(token)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles/create?token=' + token);\r\n    };\r\n\r\n    factory.createArticle = function(data, token)\r\n    {\r\n        return $http.post($rootScope.endPoint + '/articles?token=' + token, data);\r\n    };\r\n\r\n    factory.beforeEditArticle = function(slug, token)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles/' + slug + '/edit?token=' + token);\r\n    };\r\n\r\n    factory.editArticle = function(slug, dataWithToken)\r\n    {\r\n        return $http.put($rootScope.endPoint + '/articles/' + slug + '?token=' + dataWithToken.token, dataWithToken);\r\n    };\r\n\r\n    factory.deleteArticle = function(slug, token)\r\n    {\r\n        return $http.delete($rootScope.endPoint + '/articles/' + slug + '?token=' + token);\r\n    };\r\n\r\n    factory.filterByCategory = function(id, pageNumber)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles/categories/' + id + '?page=' + pageNumber);\r\n    };\r\n\r\n    factory.getCategory = function(id)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/categories/' + id);\r\n    };\r\n\r\n    factory.filterByTag = function(id)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles/tags/' + id);\r\n    };\r\n\r\n    factory.getTag = function(id)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/tags/' + id);\r\n    };\r\n\r\n    return factory;\r\n};\r\n\r\narticleFactory.$injector = ['$http', '$rootScope'];\r\n\r\nangular.module('blog')\r\n    .factory('articleFactory', articleFactory);","var commentFactory = function($http, $rootScope)\r\n{\r\n    var factory = {};\r\n\r\n    factory.createComment = function(slug, data, token)\r\n    {\r\n        return $http.post($rootScope.endPoint + '/' + slug + '/comments?token=' + token, data);\r\n    };\r\n\r\n    factory.beforeEdit = function(slug, id, token)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/' + slug + '/comments/' + id + '?token=' + token);\r\n    };\r\n\r\n    factory.editComment = function(slug, id, dataWithToken)\r\n    {\r\n        return $http.put($rootScope.endPoint + '/' + slug + '/comments/' + id + '?token=' + dataWithToken.token, dataWithToken);\r\n    };\r\n\r\n    factory.deleteComment = function(slug, id, token)\r\n    {\r\n        return $http.delete($rootScope.endPoint + '/' + slug + '/comments/' + id + '?token=' + token);\r\n    };\r\n\r\n    return factory;\r\n};\r\n\r\ncommentFactory.$injector = ['$http', '$rootScope'];\r\n\r\nangular.module('blog')\r\n    .factory('commentFactory', commentFactory);","var userFactory = function($http, $rootScope)\r\n{\r\n    var factory = {};\r\n\r\n    factory.getUser = function(id)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/users/' + id);\r\n    };\r\n\r\n    factory.getUserArticles = function(id)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/articles/users/' + id);\r\n    };\r\n\r\n    factory.getComments = function(id)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/comments/users/' + id);\r\n    };\r\n\r\n    factory.login = function(credentials)\r\n    {\r\n        return $http.post($rootScope.endPoint + '/auth/login', credentials);\r\n    };\r\n\r\n    factory.getUserFromToken = function(token)\r\n    {\r\n        return $http.get($rootScope.endPoint + '/auth/user?token=' + token);\r\n    };\r\n\r\n    factory.createUser = function(credentials)\r\n    {\r\n        return $http.post($rootScope.endPoint + '/users', credentials);\r\n    };\r\n\r\n    factory.changeEmail = function(id, data, token)\r\n    {\r\n        return $http.put($rootScope.endPoint + '/users/' + id + '/edit/email?token=' + token, data);\r\n    };\r\n\r\n    factory.changePassword = function(id, data, token)\r\n    {\r\n        return $http.put($rootScope.endPoint + '/users/' + id + '/edit/password?token=' + token, data);\r\n    };\r\n\r\n    return factory;\r\n};\r\n\r\nuserFactory.$injector = ['$http', '$rootScope'];\r\n\r\nangular.module('blog')\r\n    .factory('userFactory', userFactory);","var authController = function($scope, $rootScope, Notification, userFactory, $cookies, $window, $state)\r\n{\r\n    if ($rootScope.loggedIn)\r\n    {\r\n        $state.go('home');\r\n    }\r\n\r\n    $scope.login = function()\r\n    {\r\n        var credentials = {\r\n            email: $scope.email,\r\n            password: $scope.password\r\n        }\r\n\r\n        userFactory.login(credentials)\r\n            .success(function(response)\r\n            {\r\n                $cookies.put('token', response.token);\r\n\r\n                $rootScope.token = response.token;\r\n\r\n                userFactory.getUserFromToken(response.token)\r\n                    .success(function(data)\r\n                    {\r\n                        $rootScope.user = data.user;\r\n\r\n                        $window.location.reload();\r\n                    })\r\n                    .error(function(error)\r\n                    {\r\n                        Notification.error('<span class=\"fa fa-exclamation-circle\"></span> ' + error);\r\n                    });\r\n            })\r\n            .error(function(response)\r\n            {\r\n                Notification.error('<span class=\"fa fa-exclamation-circle\"></span> ' + response.error);\r\n            });\r\n    }\r\n};\r\n\r\nauthController.$injector = ['$scope', '$rootScope', 'Notification', '$state', '$auth', 'userFactory', '$cookies', '$window', '$state'];\r\n\r\nangular.module('blog')\r\n    .controller('authController', authController);","var logoutController = function($rootScope, $localStorage, $cookies, $state, $window)\r\n{\r\n    if ($rootScope.loggedIn)\r\n    {\r\n        delete $localStorage.token;\r\n\r\n        $cookies.remove('token');\r\n        $cookies.remove('user');\r\n\r\n        $window.location.reload();\r\n    }\r\n    else\r\n    {\r\n        $state.go('home');\r\n    }\r\n};\r\n\r\nlogoutController.$injector = ['$rootScope', '$localStorage', '$cookies', '$state', '$window'];\r\n\r\nangular.module('blog')\r\n    .controller('logoutController', logoutController);","var notificationController = function($scope, $rootScope, Notification)\r\n{\r\n    if ($rootScope.notification.popup)\r\n    {\r\n        if ($rootScope.notification.type === 'success')\r\n        {\r\n            Notification.success($rootScope.notification.msg);\r\n            $rootScope.notification.popup = false;\r\n        }\r\n        \r\n        if ($rootScope.notification.type === 'error')\r\n        {\r\n            Notification.error($rootScope.notification.msg);\r\n            $rootScope.notification.popup = false;\r\n        }\r\n        \r\n        if ($rootScope.notification.type === 'warning')\r\n        {\r\n            Notification.warning($rootScope.notification.msg);\r\n            $rootScope.notification.popup = false;\r\n        }\r\n        \r\n        if ($rootScope.notification.type === 'info')\r\n        {\r\n            Notification.info($rootScope.notification.msg);\r\n            $rootScope.notification.popup = false;\r\n        }\r\n        \r\n        if ($rootScope.notification.type === 'primary')\r\n        {\r\n            Notification($rootScope.notification.msg);\r\n            $rootScope.notification.popup = false;\r\n        }\r\n    }\r\n};\r\n\r\nnotificationController.$injector = ['$scope', '$rootScope', 'Notification'];\r\n\r\nangular.module('blog')\r\n    .controller('notificationController', notificationController);","var articlesCreateController = function($scope, $rootScope, $state, $stateParams, Notification, articleFactory, $interval, blockUI)\r\n{\r\n    $scope.published_at = new Date();\r\n\r\n    if ($rootScope.loggedIn)\r\n    {\r\n\r\n        blockUI.start();\r\n\r\n        var timer = $interval(function()\r\n        {\r\n            if ($rootScope.userObtained)\r\n            {\r\n                $interval.cancel(timer);\r\n                delete timer;\r\n                \r\n                articleFactory.beforeCreateArticle($rootScope.token)\r\n                    .success(function(response)\r\n                    {\r\n                        $scope.category_list = [];\r\n                        $scope.tag_list = [];\r\n\r\n                        $scope.categories = response.categories;\r\n                        $scope.tags = response.tags;\r\n                        blockUI.stop();\r\n                    })\r\n                    .error(function(response)\r\n                    {\r\n                        blockUI.stop();\r\n                        $state.go('articles');\r\n\r\n                        $rootScope.notification.type = 'error';\r\n                        $rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n                        $rootScope.notification.popup = true;\r\n                    });\r\n            }\r\n        }, 100);\r\n    }\r\n    else\r\n    {\r\n        $state.go('articles');\r\n\r\n        $rootScope.notification.type = 'error';\r\n        $rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n        $rootScope.notification.popup = true;\r\n    }\r\n    \r\n    $scope.create = function()\r\n    {\r\n        if (tag_list.length > 0)\r\n        {\r\n            data = {\r\n                slug: $scope.slug,\r\n                title: $scope.title,\r\n                category_list: $scope.category_list,\r\n                excerpt: $scope.excerpt,\r\n                body: $scope.body,\r\n                image_url: $scope.image_url,\r\n                published_at: moment($scope.published_at).format('YYYY-MM-DD'),\r\n                tag_list: $scope.tag_list\r\n            }\r\n        }\r\n        else\r\n        {\r\n            data = {\r\n                slug: $scope.slug,\r\n                title: $scope.title,\r\n                category_list: $scope.category_list,\r\n                excerpt: $scope.excerpt,\r\n                body: $scope.body,\r\n                image_url: $scope.image_url,\r\n                published_at: moment($scope.published_at).format('YYYY-MM-DD')\r\n            }\r\n        }\r\n        \r\n        articleFactory.createArticle(data, $rootScope.token)\r\n            .success(function()\r\n            {\r\n                $state.go('articles');\r\n\r\n                $rootScope.notification.type = 'success';\r\n                $rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully added article!';\r\n                $rootScope.notification.popup = true;\r\n            })\r\n            .error(function(response)\r\n            {\r\n                if (response.errors.slug[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.slug[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.title[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.title[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.category_list[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.category_list[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.excerpt[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.excerpt[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.body[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.body[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.image_url[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.image_url[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.published_at[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.published_at[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.tag_list[0] !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.tag_list[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n            });\r\n    };\r\n};\r\n\r\narticlesCreateController.$injector = ['$scope', '$rootScope', '$state', 'Notification', 'articleFactory', '$interval', 'blockUI'];\r\n\r\nangular.module('blog')\r\n    .controller('articlesCreateController', articlesCreateController);","var articlesEditController = function($scope, $rootScope, $state, $stateParams, $interval, Notification, blockUI, articleFactory)\r\n{\r\n    if ($rootScope.loggedIn)\r\n    {\r\n        blockUI.start();\r\n\r\n        var timer = $interval(function()\r\n        {\r\n            if ($rootScope.userObtained)\r\n            {\r\n                $interval.cancel(timer);\r\n                delete timer;\r\n\r\n                articleFactory.beforeEditArticle($stateParams.articleSlug, $rootScope.token)\r\n                    .success(function(response)\r\n                    {\r\n                        $scope.article = response.article;\r\n                        $scope.categories = response.categories;\r\n                        $scope.tags = response.tags;\r\n\r\n                        $scope.slug = response.article.slug;\r\n                        $scope.category_list = response.article.categories;\r\n                        $scope.title = response.article.title;\r\n                        $scope.excerpt = response.article.excerpt;\r\n                        $scope.body = response.article.body;\r\n                        $scope.image_url = response.article.image_url;\r\n                        $scope.published_at = new Date(response.article.published_at.date);\r\n                        $scope.tag_list = response.article.tags;\r\n\r\n                        $scope.category_list = [];\r\n                        $scope.tag_list = [];\r\n\r\n                        for (i=0; i<response.categories.length; i++)\r\n                        {\r\n                            for(j=0; j<response.article.categories.length; j++)\r\n                            {\r\n                                if (response.categories[i].id === response.article.categories[j].id)\r\n                                {\r\n                                    $scope.category_list.push(response.categories[i]);\r\n                                }\r\n                            }\r\n                        }               \r\n\r\n                        $scope.$watch('category_list', function(nowSelected){\r\n                            $scope.selectedCategories = [];\r\n                            \r\n                            if( ! nowSelected ){\r\n                                // here we've initialized selected already\r\n                                // but sometimes that's not the case\r\n                                // then we get null or undefined\r\n                                return;\r\n                            }\r\n                            angular.forEach(nowSelected, function(val){\r\n                                $scope.selectedCategories.push( val.id.toString() );\r\n                                $('#category_list').select2(\"val\", $scope.selectedCategories);                          \r\n                            });\r\n                        });\r\n\r\n                        blockUI.stop();\r\n                    })\r\n                    .error(function(response)\r\n                    {\r\n                        blockUI.stop();\r\n                        $state.go('articles');\r\n\r\n                        $rootScope.notification.type = 'error';\r\n                        $rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n                        $rootScope.notification.popup = true;\r\n                    });\r\n\r\n                $scope.edit = function()\r\n                {\r\n                    console.log($rootScope.token);\r\n                    if (tag_list.length > 0)\r\n                    {\r\n                        data = {\r\n                            token: $rootScope.token,\r\n                            slug: $scope.slug,\r\n                            title: $scope.title,\r\n                            category_list: $scope.selectedCategories,\r\n                            excerpt: $scope.excerpt,\r\n                            body: $scope.body,\r\n                            image_url: $scope.image_url,\r\n                            published_at: moment($scope.published_at).format('YYYY-MM-DD'),\r\n                            tag_list: $scope.tag_list\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        data = {\r\n                            token: $rootScope.token,\r\n                            slug: $scope.slug,\r\n                            title: $scope.title,\r\n                            category_list: $scope.category_list,\r\n                            excerpt: $scope.excerpt,\r\n                            body: $scope.body,\r\n                            image_url: $scope.image_url,\r\n                            published_at: moment($scope.published_at).format('YYYY-MM-DD')\r\n                        }\r\n                    }\r\n                    \r\n                    articleFactory.editArticle($scope.slug, data)\r\n                        .success(function()\r\n                        {\r\n                            $state.go('articles');\r\n\r\n                            $rootScope.notification.type = 'success';\r\n                            $rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully edited article!';\r\n                            $rootScope.notification.popup = true;\r\n                        })\r\n                        .error(function(response)\r\n                        {\r\n                            console.log(response);\r\n                            if (response.errors.slug[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.slug[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.title[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.title[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.category_list[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.category_list[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.excerpt[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.excerpt[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.body[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.body[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.image_url[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.image_url[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.published_at[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.published_at[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n\r\n                            if (response.errors.tag_list[0] !== undefined)\r\n                            {\r\n                                Notification.error({\r\n                                    message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.tag_list[0],\r\n                                    delay: 10000\r\n                                });\r\n                            }\r\n                        });\r\n                };\r\n            }\r\n        }, 100);\r\n    }\r\n    else\r\n    {\r\n        $state.go('articles');\r\n\r\n        $rootScope.notification.type = 'error';\r\n        $rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n        $rootScope.notification.popup = true;\r\n    }\r\n};\r\n\r\narticlesEditController.$injector = ['$scope', '$rootScope', '$state', '$stateParams', '$interval', 'Notification', 'blockUI', 'articleFactory'];\r\n\r\nangular.module('blog')\r\n    .controller('articlesEditController', articlesEditController);","var articlesFilterController = function($scope, $rootScope, $state, $stateParams, Notification, articleFactory)\r\n{\r\n    $scope.totalPages = 0;\r\n    $scope.currentPage = 1;\r\n    $scope.range = [];\r\n\r\n    $scope.getArticles = function(pageNumber)\r\n    {\r\n        if(pageNumber===undefined)\r\n        {\r\n            pageNumber = '1';\r\n        }\r\n\r\n        if ($stateParams.filterBy === 'categories')\r\n        {\r\n            articleFactory.filterByCategory($stateParams.filterID, pageNumber)\r\n                .success(function(response)\r\n                {\r\n                    $scope.articles     = response.data;\r\n                    $scope.totalPages   = response.last_page;\r\n                    $scope.currentPage  = response.current_page;\r\n        \r\n                    // Pagination Range\r\n                    var pages = [];\r\n        \r\n                    for(var i=1;i<=response.last_page;i++) {          \r\n                        pages.push(i);\r\n                    }\r\n        \r\n                    $scope.range = pages;\r\n\r\n                    articleFactory.getCategory($stateParams.filterID)\r\n                        .success(function(response)\r\n                        {\r\n                            $scope.filterCategory = response;\r\n                        });\r\n                })\r\n                .error(function(response)\r\n                {\r\n                    $state.go('articles');\r\n                });\r\n        }\r\n        else if ($stateParams.filterBy === 'tags')\r\n        {\r\n            articleFactory.filterByTag($stateParams.filterID, pageNumber)\r\n                .success(function(response)\r\n                {\r\n                    $scope.articles     = response.data;\r\n                    $scope.totalPages   = response.last_page;\r\n                    $scope.currentPage  = response.current_page;\r\n        \r\n                    // Pagination Range\r\n                    var pages = [];\r\n        \r\n                    for(var i=1;i<=response.last_page;i++) {          \r\n                        pages.push(i);\r\n                    }\r\n        \r\n                    $scope.range = pages;\r\n\r\n                    articleFactory.getTag($stateParams.filterID)\r\n                        .success(function(response)\r\n                        {\r\n                            $scope.filterTag = response;\r\n                        });\r\n                })\r\n                .error(function(response)\r\n                {\r\n                    $state.go('articles');\r\n                });\r\n        }\r\n        else\r\n        {\r\n            $state.go('articles');\r\n        }\r\n\r\n        $scope.delete = function(slug)\r\n        {\r\n            articleFactory.deleteArticle(slug, $rootScope.token)\r\n                .success(function()\r\n                {\r\n                    Notification.success('<span class=\"fa fa-check-circle\"></span> You successfully deleted article!');\r\n                })\r\n                .error(function(response)\r\n                {\r\n                    Notification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n                });\r\n        };\r\n    };\r\n};\r\n\r\narticlesFilterController.$injector = ['$scope', '$rootScope', '$state', '$stateParams', 'Notification', 'articleFactory'];\r\n\r\nangular.module('blog')\r\n    .controller('articlesFilterController', articlesFilterController);","var articlesIndexController = function($scope, $rootScope, articleFactory, Notification)\r\n{\r\n    $scope.totalPages = 0;\r\n    $scope.currentPage = 1;\r\n    $scope.range = [];\r\n\r\n    $scope.getArticles = function(pageNumber)\r\n    {\r\n        if(pageNumber===undefined)\r\n        {\r\n            pageNumber = '1';\r\n        }\r\n\r\n        articleFactory.getArticles(pageNumber)\r\n            .success(function(response)\r\n            {\r\n                $scope.articles     = response.data;\r\n                $scope.totalPages   = response.last_page;\r\n                $scope.currentPage  = response.current_page;\r\n    \r\n                // Pagination Range\r\n                var pages = [];\r\n    \r\n                for(var i=1;i<=response.last_page;i++) {          \r\n                    pages.push(i);\r\n                }\r\n    \r\n                $scope.range = pages;\r\n\r\n                $scope.delete = function(slug)\r\n                {\r\n                    articleFactory.deleteArticle(slug, $rootScope.token)\r\n                        .success(function()\r\n                        {\r\n                            Notification.success('<span class=\"fa fa-check-circle\"></span> You successfully deleted article!');\r\n                        })\r\n                        .error(function(response)\r\n                        {\r\n                            Notification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n                        });\r\n                };\r\n            });\r\n    };\r\n};\r\n\r\narticleFactory.$injector = ['$scope', '$rootScope', 'articleFactory', 'Notification'];\r\n\r\nangular.module('blog')\r\n    .controller('articlesIndexController', articlesIndexController);","var articlesShowController = function($scope, $rootScope, articleFactory, $stateParams, $timeout, $state, Notification, commentFactory, $window)\r\n{\r\n    var amount = 5;\r\n    articleFactory.getArticle($stateParams.articleSlug)\r\n        .success(function(article)\r\n        {\r\n            $scope.article = article;\r\n\r\n            $scope.amount = amount;\r\n\r\n            $scope.delete = function()\r\n            {\r\n                articleFactory.deleteArticle($stateParams.articleSlug, $rootScope.token)\r\n                    .success(function()\r\n                    {\r\n                        $state.go('articles');\r\n            \r\n                        $rootScope.notification.type = 'success';\r\n                        $rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully deleted article!';\r\n                        $rootScope.notification.popup = true;\r\n                    })\r\n                    .error(function(response)\r\n                    {\r\n                        Notification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n                    });\r\n            };\r\n\r\n            $scope.deleteComment = function(id)\r\n            {\r\n                commentFactory.deleteComment($stateParams.articleSlug, id, $rootScope.token)\r\n                    .success(function()\r\n                    {\r\n                        $window.location.reload();\r\n                    })\r\n                    .error(function(response)\r\n                    {\r\n                        Notification.error('<span class=\"fa fa-exclamation-circle\"></span> You do not have permission!');\r\n                    });\r\n            }\r\n\r\n            $scope.loadComments = function() \r\n            {\r\n                $rootScope.spinner.active = true;\r\n\r\n                $timeout(function()\r\n                {\r\n                    $rootScope.spinner.active = false;\r\n                    $scope.amount = $scope.amount + amount;\r\n                }, 1000);\r\n            };\r\n\r\n            $timeout(function()\r\n            {\r\n                $rootScope.spinner.active = false;\r\n            }, 1000);\r\n        })\r\n        .error(function(resource, status)\r\n        {\r\n            $state.go('articles');\r\n            \r\n            $rootScope.notification.type = 'error';\r\n            $rootScope.notification.msg = '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error;\r\n            $rootScope.notification.popup = true;\r\n        });\r\n};\r\n\r\narticlesShowController.$injector = ['$scope', '$rootScope', 'articleFactory', '$stateParams', '$timeout', '$state', 'Notification', 'commentFactory', '$window'];\r\n\r\nangular.module('blog')\r\n    .controller('articlesShowController', articlesShowController);","var sideBarController = function($scope, articleFactory)\r\n{\r\n    articleFactory.getCategoryList()\r\n        .success(function(categories)\r\n        {\r\n            $scope.categories = categories;\r\n        });\r\n};\r\n\r\nsideBarController.$injector = ['$scope', 'articleFactory'];\r\n\r\nangular.module('blog')\r\n    .controller('sideBarController', sideBarController);","var commentsCEController = function($scope, $rootScope, commentFactory, $state, $stateParams, Notification, $window, $interval)\r\n{\r\n    if ($stateParams.commentID === undefined)\r\n    {\r\n        $scope.type = \"create\";\r\n\r\n        $scope.create = function()\r\n        {\r\n            data = {\r\n                body: $scope.create_body\r\n            };\r\n\r\n            commentFactory.createComment($stateParams.articleSlug, data, $rootScope.token)\r\n                .success(function()\r\n                {\r\n                    $window.location.reload();\r\n                })\r\n                .error(function()\r\n                {\r\n                    Notification.error('<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission!');\r\n                });\r\n        };\r\n    }\r\n    else\r\n    {\r\n        $scope.type = \"edit\";\r\n\r\n        if ($rootScope.loggedIn)\r\n        {\r\n            var timer = $interval(function()\r\n            {\r\n                if ($rootScope.userObtained)\r\n                {\r\n                    $interval.cancel(timer);\r\n                    delete timer;\r\n\r\n                    commentFactory.beforeEdit($stateParams.articleSlug, $stateParams.commentID, $rootScope.token)\r\n                        .success(function(response)\r\n                        {\r\n                            $scope.edit_body = response.body;\r\n\r\n                            $scope.edit = function()\r\n                            {\r\n                                data = {\r\n                                    body: $scope.edit_body,\r\n                                    token: $rootScope.token\r\n                                }\r\n\r\n                                commentFactory.editComment($stateParams.articleSlug, $stateParams.commentID, data)\r\n                                    .success(function()\r\n                                    {\r\n                                        $state.go('articles_show', { articleSlug: $stateParams.articleSlug });\r\n                                    })\r\n                                    .error(function(response)\r\n                                    {\r\n                                        if (response.errors.body[0] !== undefined)\r\n                                        {\r\n                                            Notification.error({\r\n                                                message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.body[0],\r\n                                                delay: 10000\r\n                                            });\r\n                                        }\r\n                                    });\r\n                            };\r\n                        })\r\n                        .error(function(response)\r\n                        {\r\n                            $state.go('articles_show', { articleSlug: $stateParams.articleSlug });\r\n\r\n                            $rootScope.notification.type = 'error';\r\n                            $rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n                            $rootScope.notification.popup = true;\r\n                        });\r\n                }\r\n            });\r\n        }\r\n        else\r\n        {\r\n            $state.go('articles_show', { articleSlug: $stateParams.articleSlug });\r\n\r\n            $rootScope.notification.type = 'error';\r\n            $rootScope.notification.msg = '<span class=\"fa fa-exclamation-triangle\"></span> You do not have permission to access this page!';\r\n            $rootScope.notification.popup = true;\r\n        }\r\n    }\r\n};\r\n\r\ncommentsCEController.$injector = ['$scope', '$rootScope', 'commentFactory', 'Notification', '$window', '$interval'];\r\n\r\nangular.module('blog')\r\n    .controller('commentsCEController', commentsCEController);","var usersController = function($scope, $rootScope, $interval, blockUI)\r\n{\r\n    if ($rootScope.loggedIn)\r\n    {\r\n        blockUI.start();\r\n\r\n        $scope.auth = {};\r\n\r\n        $scope.auth.loggedIn = true;\r\n\r\n        $interval(function()\r\n        {\r\n            if ($rootScope.userObtained)\r\n            {\r\n                $interval.cancel();\r\n                $scope.auth.user = $rootScope.user;\r\n                $scope.auth.token = $rootScope.token;\r\n                blockUI.stop();\r\n            }\r\n        }, 100);\r\n    }\r\n    else\r\n    {\r\n        $scope.loggedIn = false;\r\n    }\r\n};\r\n\r\nusersController.$injector = ['$scope', '$rootScope', '$interval', 'blockUI'];\r\n\r\nangular.module('blog')\r\n    .controller('usersController', usersController);","var usersEditController = function($scope, $rootScope, $stateParams, $state, userFactory, Notification)\r\n{\r\n    userFactory.getUser($stateParams.userID)\r\n        .success(function(user, status)\r\n        {\r\n            $scope.user = user;\r\n\r\n            if ($stateParams.editParam === 'email')\r\n            {\r\n                if ($rootScope.user.id === user.id || $rootScope.user.group_id === 1)\r\n                {\r\n                    $scope.edit = 'email';\r\n                }\r\n                else\r\n                {\r\n                    $state.go('users_show', { userID: $stateParams.userID });\r\n                }\r\n            }\r\n            else if ($stateParams.editParam === 'password')\r\n            {\r\n                if ($rootScope.user.id === user.id || $rootScope.user.group_id === 1)\r\n                {\r\n                    $scope.edit = 'password';\r\n                }\r\n                else\r\n                {\r\n                    $state.go('users_show', { userID: $stateParams.userID });\r\n                }\r\n            }\r\n            else\r\n            {\r\n                $state.go('users_show', { userID: $stateParams.userID });\r\n            }\r\n        })\r\n        .error(function(resource, status)\r\n        {\r\n            $state.go('articles');\r\n            \r\n            $rootScope.notification.type = 'error';\r\n            $rootScope.notification.msg = '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error;\r\n            $rootScope.notification.popup = true;\r\n        });\r\n\r\n    $scope.editEmail = function()\r\n    {\r\n        $state.go('users_edit', { userID: $stateParams.userID, editParam: 'email' });\r\n    };\r\n\r\n    $scope.editPassword = function()\r\n    {\r\n        $state.go('users_edit', { userID: $stateParams.userID, editParam: 'password' });\r\n    };\r\n\r\n    $scope.changeEmail = function()\r\n    {\r\n        var credentials = {\r\n            email: $scope.email,\r\n            email_confirmation: $scope.email_confirmation\r\n        };\r\n\r\n        userFactory.changeEmail($scope.user.id, credentials, $rootScope.token)\r\n            .success(function()\r\n            {\r\n                $state.go('users_show', { userID: $stateParams.userID });\r\n\r\n                $rootScope.notification.type = 'success';\r\n                $rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully changed email!';\r\n                $rootScope.notification.popup = true;\r\n            })\r\n            .error(function(response)\r\n            {\r\n                Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.email[0],\r\n                        delay: 10000\r\n                    });\r\n            });\r\n    };\r\n\r\n    $scope.changePassword = function()\r\n    {\r\n        var credentials = {\r\n            password: $scope.password,\r\n            password_confirmation: $scope.password_confirmation\r\n        };\r\n\r\n        console.log($rootScope.token);\r\n        \r\n        userFactory.changePassword($scope.user.id, credentials, $rootScope.token)\r\n            .success(function()\r\n            {\r\n                $state.go('users_show', { userID: $stateParams.userID });\r\n\r\n                $rootScope.notification.type = 'success';\r\n                $rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully changed password!';\r\n                $rootScope.notification.popup = true;\r\n            })\r\n            .error(function(response)\r\n            {\r\n                Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.password[0],\r\n                        delay: 10000\r\n                    });\r\n            });\r\n    };\r\n};\r\n\r\nusersEditController.$injector = ['$scope', '$rootScope', '$stateParams', '$state', 'userFactory', 'Notification'];\r\n\r\nangular.module('blog')\r\n    .controller('usersEditController', usersEditController);","var usersRegisterController = function($rootScope, $scope, $state, userFactory, Notification)\r\n{\r\n    if ($rootScope.loggedIn)\r\n    {\r\n        $state.go('articles');\r\n    }\r\n    \r\n    $scope.register = function()\r\n    {\r\n        var credentials = {\r\n            username: $scope.username,\r\n            email: $scope.email,\r\n            password: $scope.password,\r\n            password_confirmation: $scope.password_confirmation\r\n        };\r\n\r\n        userFactory.createUser(credentials)\r\n            .success(function()\r\n            {\r\n                $state.go('login');\r\n\r\n                $rootScope.notification.type = 'success';\r\n                $rootScope.notification.msg = '<span class=\"fa fa-check-circle\"></span> You successfully created account!';\r\n                $rootScope.notification.popup = true;\r\n            })\r\n            .error(function(response)\r\n            {\r\n                if (response.errors.username !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.username[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n\r\n                if (response.errors.email !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.email[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n                \r\n                if (response.errors.password !== undefined)\r\n                {\r\n                    Notification.error({\r\n                        message: '<i class=\"fa fa-exclamation-circle\"></i> ' + response.errors.password[0],\r\n                        delay: 10000\r\n                    });\r\n                }\r\n            })\r\n    };\r\n};\r\n\r\nusersRegisterController.$injector = ['$rootScope', '$scope', '$state', '$window', '$cookies', 'userFactory'];\r\n\r\nangular.module('blog')\r\n    .controller('usersRegisterController', usersRegisterController);","var usersShowController = function($scope, userFactory, $stateParams, $rootScope, $timeout, $window, $state, Notification, $interval)\r\n{\r\n    userFactory.getUser($stateParams.userID)\r\n        .success(function(user, status)\r\n        {\r\n            $scope.user = user;\r\n\r\n            if ($stateParams.showParam !== undefined)\r\n            {\r\n                if ($stateParams.showParam === 'articles')\r\n                {\r\n                    $scope.hideActivities = true;\r\n                    $scope.hideArticles = false;\r\n                    $scope.hideComments = true;\r\n                    $scope.lastActive = \"\";\r\n                    $scope.articlesActive = \"active\";\r\n                    $scope.commentsActive = \"\";\r\n\r\n                    $rootScope.spinner.active = true;\r\n\r\n                    userFactory.getUserArticles(user.id)\r\n                        .success(function(resource, status)\r\n                        {\r\n                            $scope.articles = resource.articles;\r\n                            $scope.articlesAmount = 6;\r\n\r\n                            $timeout(function()\r\n                            {\r\n                                $rootScope.spinner.active = false;\r\n                            }, 500);\r\n                        })\r\n                        .error(function(resource, status)\r\n                        {\r\n                            Notification.error(\r\n                            {\r\n                                message: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n                            });\r\n                        });\r\n                }\r\n                else if ($stateParams.showParam === 'comments')\r\n                {\r\n                    $scope.hideActivities = true;\r\n                    $scope.hideArticles = true;\r\n                    $scope.hideComments = false;\r\n                    $scope.lastActive = \"\";\r\n                    $scope.articlesActive = \"\";\r\n                    $scope.commentsActive = \"active\";\r\n\r\n                    $rootScope.spinner.active = true;\r\n\r\n                    userFactory.getComments(user.id)\r\n                        .success(function(resource, status)\r\n                        {\r\n                            $scope.comments = resource.comments;\r\n                            $scope.commentsAmount = 5;\r\n\r\n                            $timeout(function()\r\n                            {\r\n                                $rootScope.spinner.active = false;\r\n                            }, 500);\r\n                        })\r\n                        .error(function(resource, status)\r\n                        {\r\n                            Notification.error(\r\n                            {\r\n                                message: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n                            });\r\n                        });\r\n                }\r\n                else\r\n                {\r\n                    $state.go('users_show', { userID: $stateParams.userID });\r\n                }\r\n            }\r\n            else\r\n            {\r\n                $scope.hideActivities = false;\r\n                $scope.hideArticles = true;\r\n                $scope.hideComments = true;\r\n                $scope.lastActive = \"active\";\r\n                $scope.articlesActive = \"\";\r\n                $scope.commentsActive = \"\";\r\n            }\r\n\r\n            $scope.getActivities = function()\r\n            {\r\n                $scope.hideActivities = false;\r\n                $scope.hideArticles = true;\r\n                $scope.hideComments = true;\r\n                $scope.lastActive = \"active\";\r\n                $scope.articlesActive = \"\";\r\n                $scope.commentsActive = \"\";\r\n            };\r\n            \r\n            $scope.getArticles = function()\r\n            {\r\n                $scope.hideActivities = true;\r\n                $scope.hideArticles = false;\r\n                $scope.hideComments = true;\r\n                $scope.lastActive = \"\";\r\n                $scope.articlesActive = \"active\";\r\n                $scope.commentsActive = \"\";\r\n\r\n                $rootScope.spinner.active = true;\r\n\r\n                userFactory.getUserArticles(user.id)\r\n                    .success(function(resource, status)\r\n                    {\r\n                        $scope.articles = resource.articles;\r\n                        $scope.articlesAmount = 6;\r\n\r\n                        $timeout(function()\r\n                        {\r\n                            $rootScope.spinner.active = false;\r\n                        }, 500);\r\n                    })\r\n                    .error(function(resource, status)\r\n                    {\r\n                        Notification.error(\r\n                        {\r\n                            message: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n                        });\r\n                    });\r\n            };\r\n\r\n            $scope.getComments = function()\r\n            {\r\n                $scope.hideActivities = true;\r\n                $scope.hideArticles = true;\r\n                $scope.hideComments = false;\r\n                $scope.lastActive = \"\";\r\n                $scope.articlesActive = \"\";\r\n                $scope.commentsActive = \"active\";\r\n\r\n                $rootScope.spinner.active = true;\r\n\r\n                userFactory.getComments(user.id)\r\n                    .success(function(resource, status)\r\n                    {\r\n                        $scope.comments = resource.comments;\r\n                        $scope.commentsAmount = 5;\r\n\r\n                        $timeout(function()\r\n                        {\r\n                            $rootScope.spinner.active = false;\r\n                        }, 500);\r\n                    })\r\n                    .error(function(resource, status)\r\n                    {\r\n                        Notification.error(\r\n                        {\r\n                            message: '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error\r\n                        });\r\n                    });\r\n            };\r\n\r\n            $scope.loadArticles = function()\r\n            {\r\n                $rootScope.spinner.active = true;\r\n\r\n                $timeout(function()\r\n                {\r\n                    $rootScope.spinner.active = false;\r\n                    $scope.articlesAmount = $scope.articlesAmount + 3;\r\n                }, 1000);\r\n            }\r\n        })\r\n        .error(function(resource, status)\r\n        {\r\n            $state.go('articles');\r\n            \r\n            $rootScope.notification.type = 'error';\r\n            $rootScope.notification.msg = '<span class=\"fa fa-exclamation-circle\"></span> ' + resource.error;\r\n            $rootScope.notification.popup = true;\r\n        });\r\n\r\n    $scope.go = function(path) \r\n    {\r\n        $window.open(path, '_blank');\r\n    };\r\n\r\n    $scope.getFirstPart = function(str) \r\n    {\r\n        return str.split('@')[0];\r\n    }\r\n\r\n    $scope.getSecondPart = function(str) \r\n    {\r\n        return str.split('@')[1];\r\n    }\r\n};\r\n\r\nusersShowController.$injector = ['$scope', 'userFactory', '$stateParams', '$rootScope', '$timeout', '$window', '$state', 'Notification', '$interval'];\r\n\r\nangular.module('blog')\r\n    .controller('usersShowController', usersShowController);"],"sourceRoot":"/source/"}